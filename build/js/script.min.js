"use strict";"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,o){o=o||window;for(var t=0;t<this.length;t++)e.call(o,this[t],t,this)});var ESC_KEY_CODE=27,footerToggleMenu=document.querySelector(".page-footer__toggle--menu"),footerToggleAddress=document.querySelector(".page-footer__toggle--address"),footerMenuList=document.querySelector(".site-menu__list--footer"),footerAddress=document.querySelector(".page-footer__address");footerMenuList&&footerMenuList.classList.remove("site-menu__list--nojs"),footerAddress&&footerAddress.classList.remove("page-footer__address--nojs"),footerToggleMenu&&(footerToggleMenu.classList.remove("page-footer__toggle--nojs"),footerToggleMenu.addEventListener("click",function(){footerToggleMenu.classList.toggle("page-footer__toggle--closed"),footerMenuList.classList.toggle("site-menu__list--show"),footerAddress.classList.contains("page-footer__address--show")&&(footerAddress.classList.remove("page-footer__address--show"),footerToggleAddress.classList.add("page-footer__toggle--closed"))})),footerToggleAddress&&(footerToggleAddress.classList.remove("page-footer__toggle--nojs"),footerToggleAddress.addEventListener("click",function(){footerToggleAddress.classList.toggle("page-footer__toggle--closed"),footerAddress.classList.toggle("page-footer__address--show"),footerMenuList.classList.contains("site-menu__list--show")&&(footerMenuList.classList.remove("site-menu__list--show"),footerToggleMenu.classList.add("page-footer__toggle--closed"))}));var onEscPress=function(e){e.keyCode===ESC_KEY_CODE&&closePopupFeedback()},openPopupFeedback=function(e){e.preventDefault(),overlay.classList.add("overlay--show"),popupFeedback.classList.add("popup-feedback--show"),visitorName.focus(),isStorageSupport&&(visitorName.value=storageName,visitorPhoneNumber.value=storagePhoneNumber,visitorQuestion.value=storageQuestion),body.style.overflow="hidden",document.addEventListener("keydown",onEscPress)},closePopupFeedback=function(){overlay.classList.remove("overlay--show"),popupFeedback.classList.remove("popup-feedback--show"),body.removeAttribute("style"),document.removeEventListener("keydown",onEscPress)},body=document.querySelector("body"),buttonCallback=document.querySelector(".page-header__button-callback"),overlay=document.querySelector(".overlay"),popupFeedback=document.querySelector(".popup-feedback"),popupCloseButton=popupFeedback.querySelector(".popup-feedback__button-close"),visitorName=popupFeedback.querySelector("[name=name]"),visitorPhoneNumber=popupFeedback.querySelector("[name=phone-number]"),visitorQuestion=popupFeedback.querySelector("[name=question]"),isStorageSupport=!0,storageName="",storagePhoneNumber="",storageQuestion="";try{storageName=localStorage.getItem("visitorName"),storagePhoneNumber=localStorage.getItem("visitorPhoneNumber"),storageQuestion=localStorage.getItem("visitorQuestion")}catch(e){isStorageSupport=!1}popupFeedback&&popupFeedback.addEventListener("submit",function(e){e.preventDefault(),localStorage.setItem("visitorName",visitorName.value),localStorage.setItem("visitorPhoneNumber",visitorPhoneNumber.value),localStorage.setItem("visitorQuestion",visitorQuestion.value),closePopupFeedback()}),buttonCallback&&buttonCallback.addEventListener("click",openPopupFeedback),popupCloseButton&&popupCloseButton.addEventListener("click",closePopupFeedback),overlay&&overlay.addEventListener("click",closePopupFeedback);var anchorLinks=document.querySelectorAll(".anchor-link");anchorLinks.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault();var o=t.getAttribute("href");document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})})});var phoneInputs=document.querySelectorAll("input[name=phone-number]");phoneInputs&&phoneInputs.forEach(function(a){a.addEventListener("focus",function(){"+7("!==a.value&&""!==a.value||(a.value="+7(")}),a.addEventListener("keydown",function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Backspace"!==e.key&&"Tab"!==e.key&&e.preventDefault();var o="+7(111)111-11-11";if(/[0-9\+\ \-\(\)]/.test(e.key)){var t=a.value,s=t.length;if(/[0-9]/.test(e.key))if("1"===o[s])a.value=t+e.key;else for(var r=s;r<o.length;r++){if("1"===o[r]){a.value=t+e.key;break}t+=o[r]}}})});